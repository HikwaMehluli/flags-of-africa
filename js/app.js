(()=>{var t={379:()=>{document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("menu-icon"),e=document.getElementById("sidebar"),s=document.getElementById("overlay"),i=document.querySelector(".game-container");t&&t.addEventListener("click",()=>{t.classList.toggle("open"),e.classList.toggle("open"),s.classList.toggle("open")}),s&&s.addEventListener("click",()=>{t.classList.remove("open"),e.classList.remove("open"),s.classList.remove("open"),i&&i.classList.remove("blur")})})},771:()=>{class t{constructor(){this.cards=[],this.flippedCards=[],this.matchedPairs=0,this.moves=0,this.startTime=null,this.timer=null,this.gameStarted=!1,this.gameBoard=document.getElementById("game-board"),this.movesElement=document.getElementById("moves"),this.timeElement=document.getElementById("time"),this.confettiElement=document.querySelector(".confetti"),this.nameModal=document.getElementById("name-modal"),this.nameForm=document.getElementById("name-form"),this.playerNameInput=document.getElementById("player-name"),this.modalFinalMoves=document.getElementById("modal-final-moves"),this.modalFinalTime=document.getElementById("modal-final-time"),this.closeModalButton=document.querySelector(".close-modal"),this.difficulty="easy",this.region="entire",this.initializeSelectors(),this.startNewGame()}initializeSelectors(){const t=document.getElementById("difficulty-select"),e=document.getElementById("region-select"),s=document.getElementById("new-game-btn"),i=document.getElementById("restart-btn");t.addEventListener("change",t=>{this.difficulty=t.target.value,this.startNewGame()}),e.addEventListener("change",t=>{this.region=t.target.value,this.startNewGame()}),s.addEventListener("click",()=>this.startNewGame()),i.addEventListener("click",()=>this.restartGame()),this.nameForm&&this.nameForm.addEventListener("submit",t=>{t.preventDefault();const e=this.playerNameInput.value.trim();e&&(this.saveScore(e,this.moves,this.timeElement.textContent,this.difficulty,this.region),this.nameModal.style.display="none",this.playerNameInput.value="")}),this.closeModalButton&&this.closeModalButton.addEventListener("click",()=>{this.nameModal.style.display="none"}),this.nameModal&&this.nameModal.addEventListener("click",t=>{t.target===this.nameModal&&(this.nameModal.style.display="none")})}async getAfricanFlags(){try{const t=await fetch("js/flags.json"),e=await t.json();return"entire"===this.region?[...e.north,...e.southern,...e.east,...e.west,...e.central]:e[this.region]||e.southern}catch(t){return console.error("Error loading flag data:",t),[]}}getDifficultySettings(){return{easy:{rows:3,cols:4,pairs:6},medium:{rows:4,cols:4,pairs:8},hard:{rows:5,cols:4,pairs:10}}[this.difficulty]}async generateCards(){const{pairs:t}=this.getDifficultySettings();let e=await this.getAfricanFlags();e=this.shuffleArray(e);const s=[],i=e.slice(0,t);for(let e=0;e<t&&e<i.length;e++){const t=i[e];s.push(t,t)}return this.shuffleArray(s)}shuffleArray(t){const e=[...t];for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}async createGameBoard(){this.cards=await this.generateCards(),this.renderGameBoard()}renderGameBoard(){const{rows:t,cols:e}=this.getDifficultySettings();this.gameBoard.style.gridTemplateColumns=`repeat(${e}, 1fr)`,this.gameBoard.innerHTML="",this.cards.forEach((t,e)=>{const s=document.createElement("div");s.className="card",s.dataset.index=e,s.innerHTML=`\n                <div class="card-back">?</div>\n                <div class="card-front" data-tippy-content="${t.country}">\n                    ${t.flag}\n                </div>\n            `,s.addEventListener("click",()=>this.flipCard(s,e)),this.gameBoard.appendChild(s)}),this.initializeTooltips()}initializeTooltips(){tippy("[data-tippy-content]",{followCursor:!0})}flipCard(t,e){this.flippedCards.length>=2||t.classList.contains("flipped")||t.classList.contains("matched")||(this.gameStarted||(this.startTimer(),this.gameStarted=!0),t.classList.add("flipped"),this.flippedCards.push({element:t,country:this.cards[e].country,index:e}),2===this.flippedCards.length&&(this.moves++,this.movesElement.textContent=this.moves,setTimeout(()=>this.checkMatch(),1e3)))}checkMatch(){const[t,e]=this.flippedCards;t.country===e.country?(t.element.classList.add("matched"),e.element.classList.add("matched"),this.matchedPairs++,this.matchedPairs===this.getDifficultySettings().pairs&&this.gameWon()):(t.element.classList.remove("flipped"),e.element.classList.remove("flipped")),this.flippedCards=[]}startTimer(){this.startTime=Date.now(),this.timer=setInterval(()=>{const t=Math.floor((Date.now()-this.startTime)/1e3),e=Math.floor(t/60).toString().padStart(2,"0"),s=(t%60).toString().padStart(2,"0");this.timeElement.textContent=`${e}:${s}`},1e3)}stopTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)}gameWon(){this.stopTimer();const t=this.timeElement.textContent;this.confettiElement&&this.confettiElement.classList.add("show"),this.nameModal&&(this.modalFinalMoves.textContent=this.moves,this.modalFinalTime.textContent=t,this.nameModal.style.display="block")}saveScore(t,e,s,i,a){const n={name:t,moves:e,time:s,difficulty:i,region:a},o=JSON.parse(localStorage.getItem("highScores"))||[];o.push(n),o.sort((t,e)=>t.moves-e.moves||t.time.localeCompare(e.time)),o.splice(10),localStorage.setItem("highScores",JSON.stringify(o))}resetGame(){this.stopTimer(),this.flippedCards=[],this.matchedPairs=0,this.moves=0,this.gameStarted=!1,this.movesElement.textContent="0",this.timeElement.textContent="00:00",this.confettiElement&&this.confettiElement.classList.remove("show"),this.nameModal&&(this.nameModal.style.display="none")}startNewGame(){this.resetGame(),this.createGameBoard()}async restartGame(){this.resetGame(),this.cards=this.shuffleArray([...this.cards]),await this.createGameBoard()}}let e;window.addEventListener("DOMContentLoaded",()=>{e=new t})},972:()=>{document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("theme-toggle"),e=document.body,s=t=>{"dark"===t?e.classList.add("dark-mode"):e.classList.remove("dark-mode")},i=localStorage.getItem("theme");s(i||"light"),t.addEventListener("click",()=>{e.classList.contains("dark-mode")?(s("light"),localStorage.setItem("theme","light")):(s("dark"),localStorage.setItem("theme","dark"))})})}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";s(379),s(771),s(972)})()})();